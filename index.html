<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wegee Animation</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body,html{
    width:100%;
    height:100%;
    background:#fff;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:"Malgun Gothic","Apple SD Gothic Neo","Dotum",sans-serif;
}

.container{
    width:100%;
    max-width:1200px;
    display:flex;
    justify-content:center;
    align-items:center;
    position:relative;
}

.content-box{
    width:22.16%;
    min-width:200px;
    aspect-ratio:4/3;
    position:relative;
}

canvas{
    width:100%;
    height:100%;
    display:block;
    background:#ffffff;
}

/* 크레딧 */
#credit-screen{
    position:absolute;
    inset:0;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    color:#000;
    font-size:9pt;
    text-align:center;
    line-height:1.8;
    background:#fff;
    opacity:0;
    pointer-events:none;
    transition:opacity 1s ease;
}

#credit-screen.visible{
    opacity:1;
    pointer-events:auto;
}

.replay-btn{
    margin-top:15px;
    padding:5px 12px;
    background:none;
    border:1px solid #000;
    font-size:8pt;
    cursor:pointer;
}
</style>
</head>

<body>
<div class="container">
<div class="content-box">

<canvas id="stage"></canvas>

<div id="credit-screen">
<p>Concept & Production: Wegee</p>
<p>@wegee.eui</p>
<p>wegee.eui@gmail.com</p>
<br>
<p>© 2026. Wegee. All rights reserved.</p>
<button class="replay-btn" onclick="replay()">REPLAY</button>
</div>

</div>
</div>

<script>
const canvas = document.getElementById('stage');
const ctx = canvas.getContext('2d');
const credit = document.getElementById('credit-screen');

let startTime;
let animationId;

function resize(){
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * devicePixelRatio;
    canvas.height = rect.height * devicePixelRatio;
}
resize();
window.addEventListener('resize', resize);

function drawCircle(x,y,r,color="#e3e3e3"){
    ctx.beginPath();
    ctx.arc(x,y,r,0,Math.PI*2);
    ctx.fillStyle=color;
    ctx.fill();
}

function animate(t){
    if(!startTime) startTime = t;
    const time = (t - startTime) / 1000; // seconds

    ctx.clearRect(0,0,canvas.width,canvas.height);

    const cx = canvas.width/2;
    const cy = canvas.height/2;
    const r = 10 * devicePixelRatio;

    // ===== 0–5초: 회전 =====
    if(time <= 5){
        const rot = time * 1.5;

        for(let i=0;i<7;i++){
            const angle = rot + (Math.PI*2/7)*i;
            const radius = 40 * devicePixelRatio;
            const x = cx + Math.cos(angle)*radius;
            const y = cy + Math.sin(angle)*radius;
            drawCircle(x,y,r);
        }
    }

    // ===== 5–8초: 퍼짐 + 패턴 =====
    else if(time <= 8){
        const p = (time-5)/3;

        const gap = 24 * devicePixelRatio;

        for(let y=0;y<canvas.height+gap;y+=gap){
            for(let x=0;x<canvas.width+gap;x+=gap){
                const offset = (Math.floor(y/gap)%2)*gap/2;
                drawCircle(x+offset,y,r);
            }
        }
    }

    // ===== 8–10초: 형광 채색 =====
    else if(time <= 10){
        const p = (time-8)/2;

        const gap = 24 * devicePixelRatio;
        const fillHeight = canvas.height * p;

        for(let y=0;y<canvas.height+gap;y+=gap){
            for(let x=0;x<canvas.width+gap;x+=gap){

                const offset = (Math.floor(y/gap)%2)*gap/2;

                let color="#e3e3e3";

                if(y > canvas.height - fillHeight){
                    color = (Math.floor(x/gap)%2===0)
                        ? "#f7ff00"   // 형광 노랑
                        : "#ff2bd6";  // 형광 핑크
                }

                drawCircle(x+offset,y,r,color);
            }
        }
    }

    // ===== 종료 =====
    if(time >= 10){
        cancelAnimationFrame(animationId);
        credit.classList.add('visible');
        return;
    }

    animationId = requestAnimationFrame(animate);
}

function start(){
    credit.classList.remove('visible');
    startTime = null;
    animationId = requestAnimationFrame(animate);
}

function replay(){
    start();
}

start();
</script>
</body>
</html>
