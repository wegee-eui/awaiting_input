<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>awaiting_input</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body, html {
            width: 100%; height: 100%;
            background-color: #ffffff;
            overflow: hidden;
            display: flex;
            font-family: "Malgun Gothic", sans-serif;
        }

        body { justify-content: center; align-items: center; }

        .container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .content-box {
            width: 22.16%; 
            min-width: 240px;
            aspect-ratio: 4 / 3;
            position: relative;
            background-color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 꽃잎들이 담길 그룹 */
        .flower-wrapper {
            position: relative;
            width: 100px;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 개별 꽃잎 스타일 (메이플 2008 감성) */
        .petal {
            position: absolute;
            width: 40px;
            height: 45px;
            /* 어두운 인디고 -> 밝은 푸른 파란색 그라디언트 */
            background: linear-gradient(135deg, #303F9F 0%, #2196F3 100%);
            /* 메이플 특유의 진한 외곽 테두리 */
            border: 2px solid #1A237E;
            border-radius: 30% 30% 50% 50%;
            /* 회전축을 꽃잎 하단 중앙으로 설정 */
            transform-origin: center bottom;
            /* 꽃잎 사이 3px 간격을 위한 초기 오프셋 (수학적 배치 전) */
            bottom: 50%;
        }

        /* 크레딧 스타일 */
        #credit-screen {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background-color: #ffffff; color: #000; font-size: 9pt; text-align: center;
            opacity: 0; pointer-events: none; transition: opacity 1s ease;
        }

        #credit-screen.visible { opacity: 1; pointer-events: auto; }

        .replay-btn {
            margin-top: 15px; padding: 5px 12px; background: none;
            border: 1px solid #000; font-size: 8pt; cursor: pointer;
        }

        @media (max-width: 768px) {
            body { align-items: flex-start; }
            .container { margin-top: 15vh; }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="content-box">
            <div class="flower-wrapper" id="flower">
                <div class="petal"></div>
                <div class="petal"></div>
                <div class="petal"></div>
                <div class="petal"></div>
                <div class="petal"></div>
            </div>

            <div id="credit-screen">
                <p>Waiting for 400 sec...</p>
                <br>
                <p>Concept & Production: Wegee</p>
                <p>wegee.eui@gmail.com</p>
                <br>
                <p>© 2026. Wegee. All rights reserved.</p>
                <button class="replay-btn" onclick="location.reload()">REPLAY</button>
            </div>
        </div>
    </div>

    <script>
        const petals = document.querySelectorAll('.petal');
        const flower = document.getElementById('flower');
        const credit = document.getElementById('credit-screen');

        // 1. 초기 배치 (각 꽃잎을 72도 간격으로 배치하여 360도 구성)
        // 요청하신 "120도 각도"는 꽃잎의 벌어짐 정도로 해석하여 배치했습니다.
        petals.forEach((petal, i) => {
            gsap.set(petal, { rotation: i * 72 });
        });

        // 2. 6분 35초(395초) 동안 오른쪽으로 계속 회전
        const mainRotation = gsap.to(flower, {
            rotation: 360,
            duration: 8, // 10초에 한 바퀴
            repeat: -1,
            ease: "none"
        });

        // 3. 395초 시점의 이벤트
        gsap.delayedCall(6.4, () => {
            mainRotation.kill(); // 회전 멈춤 혹은 가속하며 퍼지기 선택 가능

            petals.forEach((petal, i) => {
                const angle = (i * 72) * (Math.PI / 180);
                gsap.to(petal, {
                    x: Math.cos(angle) * 120,
                    y: Math.sin(angle) * 120,
                    opacity: 0,
                    duration: 1, // 1초간 퍼짐
                    ease: "power2.out"
                });
            });

            // 5초 후 크레딧 표시
            gsap.delayedCall(1, () => {
                flower.style.display = 'none';
                credit.classList.add('visible');
            });
        });

        /* 테스트 팁: 결과를 빨리 보고 싶다면 
        위의 395 숫자를 5로 바꿔서 5초 후에 퍼지는지 확인해 보세요! 
        */
    </script>
</body>
</html>
